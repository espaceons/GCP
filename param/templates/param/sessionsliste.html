<!-- formations/param/sesion_liste.html -->
{% extends 'formations/base.html' %} {% block formations_content %}
  <div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h1><i class="bi bi-calendar-event"></i> Sessions de Formation</h1>
      {% if user.is_staff %}
        <a href="#" class="btn btn-primary">Ajouter</a>
        <i class="bi bi-plus-circle"></i> Nouvelle Session
      {% endif %}
    </div>

    <div class="row">
      {% for session in sessions %}
        <div class="col-md-6 col-lg-4 mb-4">
          <div class="card session-card h-100">
            <div class="card-header">
              <h5 class="card-title mb-0">{{ session.cours.titre }}</h5>
              <small class="text-muted">{{ session.cours.formateur.user.get_full_name }}</small>
            </div>
            <div class="card-body">
              <p>
                <i class="bi bi-calendar"></i> {{ session.date_debut|date:'d/m/Y' }}
                - {{ session.date_fin|date:'d/m/Y' }}
              </p>
              <p>
                <i class="bi bi-clock"></i> {{ session.date_debut|time }} - {{ session.date_fin|time }}
              </p>
              <p>
                <i class="bi bi-geo-alt"></i> {{ session.salle }}
              </p>
              <p>
                <i class="bi bi-people"></i> {{ session.places_restantes }} places restantes
              </p>

              <span class="badge bg-{% if session.statut == 'planifie' %}
                  
                  
                  
                   primary



                {% elif session.statut == 'en_cours' %}
                  
                  
                  
                   success



                {% elif session.statut == 'termine' %}
                  
                  
                  
                   secondary



                {% else %}
                  
                  
                  
                   danger



                {% endif %}">
                {{ session.get_statut_display }}
              </span>
            </div>
            <div class="card-footer">
              <a href="{% url 'param:detail_session' session.id %}" class="btn btn-outline-primary btn-sm"><i class="bi bi-eye"></i> DÃ©tails</a>
              {% if user.is_authenticated %}
                <a href="#" class="btn btn-success btn-sm"><i class="bi bi-pencil-square"></i> S'inscrire</a>
              {% endif %}
            </div>
          </div>
        </div>
      {% empty %}
        <div class="col-12">
          <div class="alert alert-info">
            <i class="bi bi-info-circle"></i> Aucune session disponible pour le moment.
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
{% endblock %}
