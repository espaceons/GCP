<!-- templates/apprentis/inscrire_pack.html -->
{% extends 'base.html' %} {% load static %} {% block content %}
  <div class="container mt-5">
    <div class="card shadow-sm">
      <div class="card-header bg-primary text-white">
        <h3 class="mb-0"><i class="bi bi-journal-plus"></i> Inscrire {{ apprenti.prenom }} {{ apprenti.nom }} à un pack</h3>
      </div>
      <div class="card-body">
        <!-- Messages flash -->
        {% if messages %}
          {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
          {% endfor %}
        {% endif %}

        <form method="post">
          {% csrf_token %}

          <!-- Choix du pack -->
          <div class="mb-3">
            <label for="pack" class="form-label"><strong>Choisir un pack :</strong></label>
            <select name="pack" id="pack" class="form-select" required>
              <option value="" selected disabled>-- Sélectionner un pack --</option>
              {% for pack in packs %}
                <option value="{{ pack.id }}">{{ pack.titre }} ({{ pack.date_debut|date:'d/m/Y' }} - {{ pack.date_fin|date:'d/m/Y' }})</option>
              {% empty %}
                <option disabled>Aucun pack disponible</option>
              {% endfor %}
            </select>
          </div>

          <!-- Choix du mode de paiement -->
          <div class="mb-3">
            <label for="mode" class="form-label"><strong>Mode de paiement :</strong></label>
            <select name="mode" id="mode" class="form-select" required>
              <option value="" selected disabled>-- Sélectionner un mode --</option>
              <option value="especes">Espèces</option>
              <option value="cheque">Chèque</option>
              <option value="virement">Virement</option>
              <option value="carte">Carte bancaire</option>
            </select>
          </div>

          <!-- Boutons -->
          <div class="d-flex justify-content-between">
            <button type="submit" class="btn btn-success"><i class="bi bi-check-circle"></i> Confirmer l'inscription</button>
            <a href="{% url 'apprentis:liste_apprentis' %}" class="btn btn-secondary"><i class="bi bi-x-circle"></i> Annuler</a>
          </div>
        </form>
      </div>
    </div>
  </div>
{% endblock %}
